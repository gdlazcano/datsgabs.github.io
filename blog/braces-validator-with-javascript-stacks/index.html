<!doctype html><html lang=en prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Gabriel Lazcano"><title>Braces Validator With Javascript: Stacks</title><meta name=twitter:card content="summary"><meta name=twitter:site content="@datsgabs"><meta name=twitter:creator content="@datsgabs"><meta name=twitter:image content="https://gabriellazcano.com/images/habbo-card.png"><meta property="og:title" content="Braces Validator With Javascript: Stacks"><meta property="og:description" content="In this post I'm explaining a use case of stacks and how did I made a braces validator with JavaScript"><meta property="og:type" content="article"><meta property="og:image" content="https://gabriellazcano.com/images/habbo-card.png"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://gabriellazcano.com"><meta property="og:sitename" content="Gabriel Lazcano"><meta name=twitter:dnt content="on"><link rel="shortcut icon" href=/images/habbo-card.png type=image/png><link rel=stylesheet href=https://gabriellazcano.com/scss/commons/index.min.dbdcf063115b08f45de46c6639dfffa1d0ba9ea89d4fdb64ebc28ffe7724b24d.css><link rel=stylesheet href=https://gabriellazcano.com/scss/single/index.min.61a7e57c1179d549bd2447451a67216feb80a97b565d56c29c46f6a84e83a940.css></head><body><div class=container><nav class=navigation><a class=navigation_home-button href=/ title="Press to go Home"><img width=80 height=80 src=/images/habbo.png alt="Gabriel Lazcano"></a><h1 class="navigation_header navigation_mobile--hiden">Gabriel Lazcano</h1><p class=navigation_mobile--hiden>Fullstack web developer, living in Mexico</p><div class="social-media navigation_mobile--hiden"><a href=https://github.com/datsgabs><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href=https://twitter.com/datsgabs><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Twitter icon</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg></a><a href=/index.xml><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS icon</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></div><div class=navigation_menu id=links><a href=/tags title>Tags</a>
<a href=/archive title>Archive</a>
<a href=/newsletter title>Newsletter</a><br><hr><br><small>© 2021 Gabriel Lazcano</small></div><div class=navigation_hamburger id=hamburger><div class="hamburger_line half start"></div><div class=hamburger_line></div><div class="hamburger_line half end"></div></div><script src=/js/hamburger-menu.min.2e543bcb3025aea643d9d2fede961bb233bbad382ccfcff590f4310085774c41.js defer></script></nav><main class=main><div class=single-header><h1 class=single-header_title>Braces Validator With Javascript: Stacks</h1><p class=title-footnote>Published on <b>Mar 19, 2021</b></p><p class=title-footnote>Reading time <b>2 min</b></p></div><article id=article class=article><iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <style>
        body {
            background: white;
        }
    </style>
</head>
<body>
    <h1>Type your string</h1>
    <p>You can try these</p>
    <pre>
"(){}[]" // True
"([{}])" // True
"(}"     // False
"[(])"     // False
"[({})](]"  //False
    </pre>
    <input type="text" id="input">
    <p id="result"></p>
    <script>
        const input = document.querySelector(&#39;#input&#39;)
        const result = document.querySelector(&#39;#result&#39;);

        const braces = {
            "{": "}",
            "(": ")",
            "[": "]",
        }
        function validBraces(str){
            let stack = []
            for (const char of str) {
                try {
                    if (stack.length > 0 && braces[stack[stack.length - 1]] == char) {
                        stack.pop()
                    } else {
                        stack.push(char)
                    }  
                } 
            
                catch (error) {
                    return false
                }
            }
            return stack.length == 0
        }

        input.addEventListener("input", (event) => {
            result.textContent = `The string is ${validBraces(input.value) ? "": "not"} valid`
        })
    </script>
</body>
</html>
' frameborder=0 height=400px width=100% sandbox=allow-scripts></iframe><p>Today I was messing around doing some CodeWars challenges and some problem got my attention. It was to make a braces validator. The rules are simple, given a string we have to determine if all braces are matched with the correct brace. You can check out the <a href=https://www.codewars.com/kata/5277c8a221e209d3f6000b56/train/javascript>complete kata here.</a></p><p>So I started trying different ways. But none seemed to work. Then I remembered there were this magical data structures called stacks.</p><p><code>Stacks</code> are a data structure that work by pushing and poping elements.</p><p>In this particular example I am first defining if the stack is empty or not, if it is I have to push the first element. And from then start comparing the current element to the last pushed element. For the comparison I am using a functionality of JavaScript, whose name I don&rsquo;t know, which basically works by indexing an object with a string.</p><p>Here it is in practice.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>braces</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&#34;{&#34;</span><span class=o>:</span> <span class=s2>&#34;}&#34;</span><span class=p>,</span>
    <span class=s2>&#34;(&#34;</span><span class=o>:</span> <span class=s2>&#34;)&#34;</span><span class=p>,</span>
    <span class=s2>&#34;[&#34;</span><span class=o>:</span> <span class=s2>&#34;]&#34;</span><span class=p>,</span>
<span class=p>}</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>braces</span><span class=p>[</span><span class=s2>&#34;{&#34;</span><span class=p>])</span> <span class=c1>// logs &#34;}&#34;
</span></code></pre></div><p>So in an object I just have to define the counterpart of the brace and it&rsquo;s has an access time of 1.</p><p>If the current brace is not equal to the last one in the stack it will get pushed into the stack. If it is it will not push the current brace and it will pop the last element in the stack. So if there is any element left in the stack it means that the string is not valid either because some brace has no counterpart or because some brace is opened and closed in between other.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>braces</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&#34;{&#34;</span><span class=o>:</span> <span class=s2>&#34;}&#34;</span><span class=p>,</span>
    <span class=s2>&#34;(&#34;</span><span class=o>:</span> <span class=s2>&#34;)&#34;</span><span class=p>,</span>
    <span class=s2>&#34;[&#34;</span><span class=o>:</span> <span class=s2>&#34;]&#34;</span><span class=p>,</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>validBraces</span><span class=p>(</span><span class=nx>str</span><span class=p>){</span>
    <span class=kd>let</span> <span class=nx>stack</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=kr>char</span> <span class=k>of</span> <span class=nx>str</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=nx>stack</span><span class=p>.</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=nx>braces</span><span class=p>[</span><span class=nx>stack</span><span class=p>[</span><span class=nx>stack</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]]</span> <span class=o>==</span> <span class=kr>char</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>stack</span><span class=p>.</span><span class=nx>pop</span><span class=p>()</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=nx>stack</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=kr>char</span><span class=p>)</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=k>return</span> <span class=nx>stack</span><span class=p>.</span><span class=nx>length</span> <span class=o>==</span> <span class=mi>0</span>
<span class=p>}</span></code></pre></div><a class=editPage href=https://github.com/DatsGabs/datsgabs.github.io/blob/main/content/blog/braces-validator-with-javascript-stacks.md><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>Edit this page on Github</a><div class=article-bottom><a href="https://twitter.com/intent/tweet?text=Braces%20Validator%20With%20Javascript%3a%20Stacks&url=https%3a%2f%2fgabriellazcano.com%2fblog%2fbraces-validator-with-javascript-stacks%2f&via=datsgabs" target=_blank rel="noopener noreferrer" class="share-twitter-btn article-bottom_btn"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg><span>Share on Twitter</span></a>
<a href=/newsletter class="newsletter-btn article-bottom_btn">Join newsletter</a></div></article><div class=comments><script src=https://utteranc.es/client.js repo=DatsGabs/datsgabs.github.io issue-term=og:title theme=github-dark crossorigin=anonymous async loading=lazy></script><em id=commentsNotice>utteranc.es uses Github Issues, no data is stored.<br>You can disable it from your <a href=https://github.com/settings/apps/authorizations>authorized apps</a></em></div><script>const commentsNotice=document.getElementById('commentsNotice'),observer=new MutationObserver((c,b)=>{const a=document.querySelector('.utterances-frame');if(a){a.addEventListener('load',()=>{setInterval(()=>{commentsNotice.style.opacity="100"},1e3)}),b.disconnect();return}});observer.observe(document,{childList:!0,subtree:!0})</script><div class=single_pagination><div class=pagination_title><span class=pagination_title-h>Read other posts</span></div><div class=pagination_buttons><span class="button previous"><a href=https://gabriellazcano.com/blog/dont-make-your-sql-requests-like-this-dont-get-hacked/><span class=button_icon>←</span>
<span class=button_text>Don't make your SQL requests like this! Dont get hacked: SQL Injection</span></a></span>
<span class="button next"><a href=https://gabriellazcano.com/blog/reactive-variables-are-the-best-feature-in-svelte/><span class=button_text>Reactive Variables are the BEST feature in Svelte</span>
<span class=button_icon>→</span></a></span></div></div></main><aside><div class=toc><nav id=TableOfContents></nav></div><script src=/js/toc.min.c516e3034a21413df5bf5d9249d861cb7f7bd2a914715f4ef79c122e8f38921c.js></script></aside></div><script src=/js/clickable-box.min.bbd9f6756183352f2862ee000ab3f9c168fa3b03e076ef267e0eda619c45f960.js defer></script><script src=/js/index.min.a436abe5aff433351a616bc69213e540156f65138a3b6690d6bdf7a60df7ebe5.js defer></script></body></html>