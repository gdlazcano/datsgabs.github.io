<!doctype html><html lang=en prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Gabriel Lazcano"><title>How to Create a Contrasting Cursor. BONUS: MouseMove Optimization.</title><meta name=twitter:card content="summary"><meta name=twitter:site content="@datsgabs"><meta name=twitter:creator content="@datsgabs"><meta name=twitter:image content="https://gabriellazcano.com/images/habbo-card.png"><meta property="og:title" content="How to Create a Contrasting Cursor. BONUS: MouseMove Optimization."><meta property="og:description" content="In this post I'm going to explain how to make a custom cursor that inverts the color of the content it's covering."><meta property="og:type" content="article"><meta property="og:image" content="https://gabriellazcano.com/images/habbo-card.png"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://gabriellazcano.com"><meta property="og:sitename" content="Gabriel Lazcano"><meta name=twitter:dnt content="on"><link rel="shortcut icon" href=/images/habbo-card.png type=image/png><link rel=stylesheet href=https://gabriellazcano.com/scss/commons/index.min.5179aea661e50db90ebbac73f852ef1a2001efe5b39a96c020d18bfb641421bf.css><link rel=stylesheet href=https://gabriellazcano.com/scss/single/index.min.7de3316e9bc4b971d42ee7291e572e539677350a2356d8452da5a63ee6803542.css></head><body><div class=container><nav class=navigation><a class=navigation_home-button href=/ title="Press to go Home"><img width=80 height=80 src=/images/habbo.png alt="Gabriel Lazcano"></a><h1 class="navigation_header navigation_mobile--hiden">Gabriel Lazcano</h1><p class=navigation_mobile--hiden>Fullstack web developer, living in Mexico</p><div class="social-media navigation_mobile--hiden"><a href=https://github.com/datsgabs><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href=https://twitter.com/datsgabs><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Twitter icon</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg></a><a href=/index.xml><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS icon</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></div><div class=navigation_menu id=links><a href=/tags title>Tags</a>
<a href=/archive title>Archive</a>
<a href=/newsletter title>Newsletter</a><br><hr><br><small>© 2021 Gabriel Lazcano</small></div><div class=navigation_hamburger id=hamburger><div class="hamburger_line half start"></div><div class=hamburger_line></div><div class="hamburger_line half end"></div></div><script src=/js/hamburger-menu.min.2e543bcb3025aea643d9d2fede961bb233bbad382ccfcff590f4310085774c41.js defer></script></nav><main class=main><div class=single-header><h1 class=single-header_title>How to Create a Contrasting Cursor. BONUS: MouseMove Optimization.</h1><p class=title-footnote>Published on <b>Mar 5, 2021</b></p><p class=title-footnote>Reading time: <b>2 min</b></p></div><article id=article class=article><p>You might think, what do you think by contrasting cursor. I believe it&rsquo;s better if you see it by yourself.</p><iframe srcdoc='
<html>
  <head>
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      body {
        overflow: hidden;
      }

      .container {
        width: 100vw;
        height: 100vh;
        background-color: white;
        position: relative;
      }

      .circle {
          width: 60px;
          height: 60px;
          background: white;
          mix-blend-mode: difference;
          position: absolute;
          left: 0;
          top: 0;
          border-radius: 50%;
          pointer-events: none;
        }

    </style>
  </head>
  <body>
    <div class="container">
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
    <div class="circle"></div>
    </div>
    <script>
      const cursor = document.querySelector(".circle");
      const delay = 250;

      function throttle(callback, limit) {
        let wait = false;
        return function () {
          if (!wait) {
            callback.apply(null, arguments);
            wait = true;
            setTimeout(function () {
              wait = false;
            }, limit);
          }
        };
      }

      // window.resize callback function
      function getDimensions(e) {
        cursor.style.top = `${e.clientY - 25}px`;
        cursor.style.left = `${e.clientX - 25}px`;
      }

      // window.resize event listener
      window.addEventListener("mousemove", (e) => {
        throttle(getDimensions(e), delay);
      });
    </script>
  </body>
</html>
' frameborder=0 height=400px width=100% sandbox=allow-scripts></iframe><p>To achieve this we are using the <code>mix-blend-mode</code> CSS property with the value <code>difference</code> which basically inverts the color of the content it has below it.</p><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>container</span> <span class=p>{</span> 
    <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>vw</span><span class=p>;</span> 
    <span class=k>height</span><span class=p>:</span> <span class=mi>100</span><span class=kt>vh</span><span class=p>;</span> 
    <span class=err>//</span> <span class=err>Setting</span> <span class=err>the</span> <span class=err>width</span> <span class=err>and</span> <span class=err>height</span> <span class=err>to</span> <span class=err>be</span> <span class=err>the</span> <span class=err>full</span> <span class=err>page</span>
    <span class=k>background-color</span><span class=p>:</span> <span class=kc>white</span><span class=p>;</span> 
    <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span><span class=p>;</span> 
<span class=p>}</span>

<span class=p>.</span><span class=nc>circle</span> <span class=p>{</span>
    <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
    <span class=k>left</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
    <span class=k>top</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
    <span class=k>width</span><span class=p>:</span> <span class=mi>60</span><span class=kt>px</span><span class=p>;</span>
    <span class=k>height</span><span class=p>:</span> <span class=mi>60</span><span class=kt>px</span><span class=p>;</span>
    <span class=k>background</span><span class=p>:</span> <span class=kc>white</span><span class=p>;</span>
    <span class=k>border-radius</span><span class=p>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
    <span class=n>pointer-events</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
    <span class=k>mix-blend-mode</span><span class=p>:</span> <span class=kc>difference</span><span class=p>;</span>
<span class=p>}</span></code></pre></div><p>Here we are positioning the circle absolute to the container, giving it a size and with border-radius we are making the div a circle. I disable the <code>pointer-events</code> or we are not going to be able to click anywhere in the site.</p><blockquote><p>Setting the <code>background-color</code> to white in both the <code>.container</code> and the <code>.circle</code> is needed for this to work, you can change the color but it might not look as good.</p></blockquote><p>And we start to see that it blends already. We just have to make the circle to move.</p><iframe srcdoc='
<html>
  <head>
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      body {
        overflow: hidden;
      }

      .container {
        width: 100vw;
        height: 100vh;
        background-color: white;
        position: relative;
      }

      .circle {
          width: 60px;
          height: 60px;
          background: white;
          mix-blend-mode: difference;
          position: absolute;
          left: 0;
          top: 0;
          border-radius: 50%;
          pointer-events: none;
        }

    </style>
  </head>
  <body>
    <div class="container">
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
      <p> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio enim natus, modi aperiam, aspernatur rerum, molestias corporis fuga nihil dicta fugit in sapiente eveniet eius eos soluta suscipit sunt molestiae. </p>
    <div class="circle"></div>
    </div>
  </body>
</html>
' frameborder=0 height=400px width=100% sandbox></iframe><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>cursor</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s2>&#34;.circle&#34;</span><span class=p>)</span>

<span class=kd>function</span> <span class=nx>getDimensions</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>cursor</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>top</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=nx>e</span><span class=p>.</span><span class=nx>clientY</span> <span class=o>-</span> <span class=mi>25</span><span class=si>}</span><span class=sb>px`</span> <span class=c1>// -25px for the size of the circle
</span><span class=c1></span>  <span class=nx>cursor</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=nx>e</span><span class=p>.</span><span class=nx>clientX</span> <span class=o>-</span> <span class=mi>25</span><span class=si>}</span><span class=sb>px`</span>
<span class=p>}</span>

<span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;mousemove&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>getDimensions</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
<span class=p>});</span></code></pre></div><p><strong>And it&rsquo;s working</strong></p><h2 id=bonus-mousemove-optimization>Bonus: MouseMove Optimization</h2><p>While it&rsquo;s working, if you add a <code>console.log()</code> to the <code>getDimensions</code> function you might see lots of calls to the function. Which is not really good for performance.</p><p>There is a really known way of solving this problem. By throttling the function calls only firing it once the <code>mousemove</code> event idle for 250ms</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>delay</span> <span class=o>=</span> <span class=mi>250</span>

<span class=c1>// ...
</span><span class=c1></span>
<span class=kd>function</span> <span class=nx>throttle</span><span class=p>(</span><span class=nx>callback</span><span class=p>,</span> <span class=nx>limit</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>let</span> <span class=nx>wait</span> <span class=o>=</span> <span class=kc>false</span>
  <span class=k>return</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>wait</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>callback</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>arguments</span><span class=p>)</span>
      <span class=nx>wait</span> <span class=o>=</span> <span class=kc>true</span>
      <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
        <span class=nx>wait</span> <span class=o>=</span> <span class=kc>false</span>
      <span class=p>},</span> <span class=nx>limit</span><span class=p>)</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;mousemove&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>throttle</span><span class=p>(</span><span class=nx>getDimensions</span><span class=p>(</span><span class=nx>e</span><span class=p>),</span> <span class=nx>delay</span><span class=p>)</span>
<span class=p>});</span></code></pre></div><a class=editPage href=https://github.com/DatsGabs/datsgabs.github.io/blob/main/content/blog/how-to-create-a-contrasting-cursor.md><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>Edit this page on Github</a></article><div class=article-bottom><h2>Share this Article</h2><div class=share-buttons><a href="https://twitter.com/intent/tweet?text=How%20to%20Create%20a%20Contrasting%20Cursor.%20BONUS%3a%20MouseMove%20Optimization.&url=https%3a%2f%2fgabriellazcano.com%2fblog%2fhow-to-create-a-contrasting-cursor%2f&via=datsgabs" target=_blank rel="noopener noreferrer" class="share-twitter-btn article-bottom_btn"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg><span>Tweet</span></a>
<a href="https://www.reddit.com/submit?title=How%20to%20Create%20a%20Contrasting%20Cursor.%20BONUS%3a%20MouseMove%20Optimization.&url=https%3a%2f%2fgabriellazcano.com%2fblog%2fhow-to-create-a-contrasting-cursor%2f" class="share-reddit_btn article-bottom_btn" target=_blank><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg>Reddit</a></div></div><div class=comments><h2>Comments</h2><script src=https://utteranc.es/client.js repo=DatsGabs/datsgabs.github.io issue-term=og:title theme=github-dark crossorigin=anonymous async loading=lazy></script><p id=commentsNotice>utteranc.es uses Github Issues, no data is stored.<br>You can disable it from your <a href=https://github.com/settings/apps/authorizations>authorized apps.</a></p></div><div class=single_pagination><div class=pagination_title><span class=pagination_title-h>Read other posts</span></div><div class=pagination_buttons><span class="button previous"><a href=https://gabriellazcano.com/blog/how-to-auto-adjust-font-size-to-fit-div/><span class=button_icon>←</span>
<span class=button_text>How to Auto Adjust Font Size to fit div</span></a></span>
<span class="button next"><a href=https://gabriellazcano.com/blog/easy-dark-mode-with-css-variables/><span class=button_text>Easy Dark Mode With CSS variables</span>
<span class=button_icon>→</span></a></span></div></div><script src=/js/index.min.da1f7548e48938b1f6f12f66382b31334a2f00db81de1669cade07aa17bc60a4.js defer></script></main><aside><div class=toc><nav id=TableOfContents><ul><li><a href=#bonus-mousemove-optimization>Bonus: MouseMove Optimization</a></li></ul></nav></div><script src=/js/toc.min.c2c0b342b7ac1aa639d23ba881fbeff32c69b60f4829dc22348110dc98be99fb.js></script></aside></div></body></html>